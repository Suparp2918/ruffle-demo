<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8">
<title>Ruffle – 1394.swf (auto)</title>

<style>
  html,body{height:100%;margin:0;background:#e9f1ff;display:flex;justify-content:center;align-items:flex-start;font-family:sans-serif;}
  /* ครอบตัวเล่น + ปุ่มให้เกาะกันตรงกลาง */
  #wrap{margin-top:32px;text-align:center}
  #player{width:90vw;max-width:1280px;aspect-ratio:4/3;box-shadow:0 0 18px #0003;border-radius:6px;overflow:hidden}
  #btn-full{margin-top:8px;padding:6px 14px;border:none;border-radius:5px;background:#ffbe0b;font-weight:600;cursor:pointer}
</style>
</head>
<body>

  <div id="wrap">
    <div id="player"></div>
    <button id="btn-full">เต็มจอ</button>
  </div>

  <!-- ใช้ nightly เพื่อรองรับ AS3 ได้มากขึ้น -->
  <script src="https://unpkg.com/@ruffle-rs/ruffle@nightly"></script>
  <script>
    /* คอนฟิกทุก player ให้เล่นเองทันที */
    window.RufflePlayer = { config:{ autoplay:"on", unmuteOverlay:"visible" } };  // :contentReference[oaicite:0]{index=0}

    window.addEventListener("DOMContentLoaded", async () => {
      const ruffle  = window.RufflePlayer.newest();
      const player  = ruffle.createPlayer();
      document.getElementById("player").appendChild(player);

      /* =>  จุดสำคัญ: ใช้ URLLoadOptions + autoplay แก้อาการนิ่ง */
      await player.load({                    // :contentReference[oaicite:1]{index=1}
        url: "1394.swf",
        autoplay: "on"
      });

      /* ปุ่มสลับเต็มจอ */
      const btn = document.getElementById("btn-full");
      btn.onclick = () => {
        if (player.isFullscreen){ player.exitFullscreen(); btn.textContent="เต็มจอ"; }
        else                    { player.enterFullscreen(); btn.textContent="ออกเต็มจอ"; }
      };
    });
  </script>
</body>
</html>
