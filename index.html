<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8">
<title>Ruffle Demo – Fullscreen</title>
<style>
  html,body{height:100%;margin:0;background:#e9f1ff;display:flex;justify-content:center;align-items:center;}
  #container{position:relative;width:90vw;max-width:1280px;aspect-ratio:4/3;}
  #ruffle-player{width:100%;height:100%;box-shadow:0 0 12px #0004;border-radius:6px;overflow:hidden;}
  #btn-full{position:absolute;right:10px;bottom:10px;z-index:10;padding:6px 12px;border:none;border-radius:4px;background:#ffbe0b;font-weight:600;cursor:pointer;}
</style>
</head>
<body>
  <div id="container">
      <div id="ruffle-player"></div>
      <button id="btn-full">เต็มจอ</button>
  </div>

  <!-- nightly ให้รองรับ AS3 ดีกว่า -->
  <script src="https://unpkg.com/@ruffle-rs/ruffle@nightly"></script>
  <script>
    window.addEventListener("DOMContentLoaded", () => {
      const ruffle  = window.RufflePlayer.newest();
      const player  = ruffle.createPlayer();
      document.getElementById("ruffle-player").appendChild(player);
      player.load("1394.swf");     // <<< ชี้ไฟล์ตามเดิม

      /* ----- ปุ่ม Fullscreen ----- */
      const btn = document.getElementById("btn-full");
      btn.addEventListener("click", () => {
        if (player.isFullscreen) {           // ถ้าอยู่ในโหมดเต็มจอ → กลับ
          player.exitFullscreen();
          btn.textContent = "เต็มจอ";
        } else if (player.fullscreenEnabled) {
          player.enterFullscreen();          // เข้าโหมดเต็มจอ
          btn.textContent = "ออกเต็มจอ";
        } else {
          /* fallback: ขอ Fullscreen ทั้ง container ถ้าเบราว์เซอร์ปิดกั้น Ruffle */
          document.getElementById("container").requestFullscreen?.();
          btn.textContent = "ออกเต็มจอ";
        }
      });
    });
  </script>
</body>
</html>
